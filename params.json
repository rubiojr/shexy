{"name":"Shexy","body":"# Shexy\r\n\r\nSSH, the way I like it.\r\n\r\n## Do it \r\n\r\n    require 'shexy'\r\n\r\n    Shexy.user = 'test'\r\n    Shexy.password = 'test'\r\n    Shexy.host = 'test-host'\r\n    out, err = Shexy.exe 'ls -la'\r\n    out.empty? # no output\r\n    err.empty? # no error output\r\n\r\n    Shexy.exe 'la -la' do |out,err|\r\n      puts out\r\n      puts err\r\n    end\r\n\r\nAnother way, assuming you are using SSH keys \r\nand added them to the SSH agent (ssh-add ~/.ssh/my-priv-key):\r\n\r\n    Shexy.exe 'test@test-host', 'ls -la' do |out, err|\r\n      puts out\r\n    end\r\n    Shexy.exe 'echo hello' # no need to add host/user again\r\n\r\n\r\nSpecify key to use:\r\n\r\n    Shexy.key = '~/.ssh/id_rsa'\r\n    out, err, exit_code = Shexy.exe 'test@test-host', 'ls -la'\r\n\r\nCopying files (local -> remote):\r\n\r\n    Shexy.copy_to 'test@test-host', '/home/rubiojr/my-uber-file', '/tmp/'\r\n\r\nBatch mode:\r\n\r\n    Shexy.batch do\r\n      script <<-EOH\r\n        echo > /tmp/foo\r\n        ls -la\r\n        sed -i s/foo/bar/ /etc/foo\r\n      EOH\r\n    end\r\n\r\nUse sudo:\r\n\r\n     Shexy.use_sudo\r\n     # sudo will be used to run the commands\r\n     Shexy.exe 'test@foobar.com', 'echo | cat' # => sudo echo | sudo cat\r\n\r\nQuery the server OS:\r\n\r\n     Shexy.distro          # => :ubuntu, :redhat, :centos, :fedora, :debian\r\n     Shexy.distro_release  # => 12.04, 5.8, etc.\r\n\r\nMore helpers:\r\n\r\n     Shexy.user = 'rubiojr'\r\n     Shexy.password = 'secret'\r\n     Shexy.host = 'foo.com'\r\n     # Copy the key to /home/rubiojr/.ssh/authorized_keys in remote server\r\n     Shexy.copy_ssh_pubkey '~/.ssh/id_rsa.pub'\r\n     # Set PermitRootLogin to without-password in /etc/ssh/sshd_config\r\n     # requires sudo in remote server (unless using root user).\r\n     Shexy.permit_root_login 'without-password'\r\n\r\n## Caution\r\n\r\nI was bored writing net-ssh boilerplate, so I created this highly \r\nexperimental sh*t (a small amount of it, but experimental).\r\n\r\n## Copyright\r\n\r\nCopyright (c) 2012 Sergio Rubio. See LICENSE.txt for\r\nfurther details.\r\n\r\n","note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"SSH, the way I like it","google":""}